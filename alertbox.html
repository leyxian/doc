
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>弹框</title>
    <!-- Bootstrap -->
    <link href="http://cdn.bootcss.com/bootstrap/3.3.2/css/bootstrap.min.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="http://cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="http://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="http://cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <!--[if IE 7]>
    <link rel="stylesheet" href="http://cdn.bootcss.com/font-awesome/3.2.1/css/font-awesome-ie7.min.css">
    <![endif]-->
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="http://cdn.bootcss.com/jquery/2.1.3/jquery.min.js"></script>
    <style type="text/css">
        #open_box { max-width: 600px; min-width: 320px; width: 70%; position: absolute; z-index: 3048; background: #fff; border: 3px solid #ccc;top: 50%; left: 50%; padding: 10px; display: none; }
        .zhezhao { position: fixed; width: 100%; height: 100%; background: #000; top: 0; opacity: 0.3; -moz-opacity:0.5; -khtml-opacity:0.5; filter:alpha(opacity=50); z-index: 2048; }
    </style>
</head>
<body>

<div class="container">
    <h1>弹框</h1>
    <button id="openbox">打开弹框</button>    
</div>
<div id="open_box" class="row">
    <form class="form-horizontal">
      <div class="form-group">
        <label for="inputEmail3" class="col-sm-2 control-label">Email</label>
        <div class="col-sm-10">
          <input type="email" class="form-control" id="inputEmail3" placeholder="Email">
        </div>
      </div>
      <div class="form-group">
        <label for="inputPassword3" class="col-sm-2 control-label">Password</label>
        <div class="col-sm-10">
          <input type="password" class="form-control" id="inputPassword3" placeholder="Password">
        </div>
      </div>
      <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
          <div class="checkbox">
            <label>
              <input type="checkbox"> Remember me
            </label>
          </div>
        </div>
      </div>
      <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
          <button type="submit" class="btn btn-default">Sign in</button>
        </div>
      </div>
    </form>
</div>
<script type="text/javascript">
    $('#openbox').click(function(){
        var obj = openbox('#open_box','.zhezhao').init().show();
    });
    /**
     * [openbox description]
     * @param  {[type]} tag [弹框]
     * @param  {[type]} bg  [背景]
     * @return {[type]}     [description]
     */
    function openbox(tag, bg){
        var obj = new Object();
        obj.init = function(){
            if($(bg).length < 1)
                $('body').append('<div class="'+bg.replace(/(^\.*)/,"")+'"></div>');  
            $(tag).css({'margin-top': '-'+$(tag).height()/2+'px','margin-left': '-'+$(tag).width()/2+'px'});
            $(bg).on('click', function(){
                obj.hidden();
            });
            return obj;
        };
        obj.show = function(){
            $(bg).show(); $(tag).show();
            return obj;
        };
        obj.hidden = function(){
            $(bg).hide(); $(tag).hide();
            return obj;
        };
        return obj;
    }
</script>
    <!-- Scripts -->
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="http://cdn.bootcss.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
</body>
</html>
