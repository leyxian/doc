git 使用大全

下载：https://git-scm.com/download/win
安装后在文件夹下右击 Git Bash Here

https://coding.net
1.创建项目
2.在本机生成【密钥】
3.将C:\Users\Administrator\.ssh\id_rsa.pub内容复制
4.到coding.net帐号SSH公钥 添加公钥
5.到本机需要同步的项目文件夹根目录
6.初始化仓库
git init --bare
7.添加跟踪文件
git add .
8.代码提交
git commit -am init
9.添加远程仓库
git remote add origin git@git.coding.net:coding帐号名/coding创建的项目名.git
例：git@git.coding.net:newley1105/test.git
10.推送到coding
git push -u origin master

其他机子下载项目
1.生成【密钥】
2.到coding.net 帐号-SSH公钥 添加公钥
3.下载项目
git clone git@git.coding.net:coding帐号名/coding创建的项目名.git 文件夹名(不写则为项目名)
git clone -b 分支名
例：git@git.coding.net:newley1105/test.git

【密钥】
ssh-keygen -t rsa -C "ah.liulei@foxmail.com"
一直Enter
造密钥 默认存在在用户文件夹/.ssh/id_rsa.pub
例：C:/Users/user/(windows) ~/.ssh(linux)

【绑定用户】
git config --global user.name wxx

git config --global user.email wxx420@foxmail.com

【操作】
git init
把当前文件夹初始化为git本地仓库

git add .
将当前文件夹下所有文件加入git跟踪

git commit -am '修改备注'
记录下已经修改的文件

git push <远程主机名> <本地分支名>:<远程分支名>
推送本地日志到远程origin仓库

git push <远程主机名> <本地分支名>:<远程分支名>
推送本地的master分支推送到origin主机的master分支(-u origin [origin设为默认主机])

git push -f origin master
强制覆盖推送到远程仓库

git pull <远程主机名> <远程分支名>:<本地分支名>
例：git pull origin master
取回远程主机某个分支的更新，再与本地的指定分支合并

git fetch 
下载远程origin仓库日志

git remote add origin url
添加远程仓库

git remote remove origin
删除远程仓库

git fetch
git merge master origin/master
合并远程仓库，实际是获取别人提交的远程仓库日志
有冲突，找到冲突的文件，备份转移。在git merge,在比较备份和获取的文件，进行调整修改在推送远程仓库

git remote -v
查看所有远程仓库

git rm -r --cache /cache/*
删除跟踪的文件

【分支系统】
git branch test
【删除分支】
git branch -D test
git checkout test
git push 本地分支:远程分支
【删除远程分支】
git push origin --delete test

【分支合并】
git merge 分支名

【提取分支文件】
git checkout 分支名 文件
git checkout -b 分支名 origin/分支名
git checkout tagName

【数据库维护】
git count-objects -v

git gc

【覆盖本地】
git fetch --all
git reset --hard origin/master

【文件日志】
git log --pretty=oneline 文件路劲
git show 日志编号

【屏蔽文件】
.gitignore
使用通配符屏蔽不需要的文件或目录
*.log   所有以.log为结尾的文件
data/*  目录中结构中出现data,例：/data/*,/upload/data/*,……
/data/* 根目录下data

【乱码路径】
git config --global core.quotepath false

【清空文件】
git clean  -d  -fx

<!-- php -->
.svn/
cache/
tmp/
temp/
upload/
*.php.tpl
*.cache
*.log
*.sql
*.zip

[hooks]
vim post-update
unset $(git rev-parse --local-env-vars)
cd /data/www/ontransportjp.com
git pull